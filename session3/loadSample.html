<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>load sample</title>
    <script src="http://doc.gold.ac.uk/~mus02mg/_maxiLib.js"></script>

  </head>
  <body>
    <script type="text/javascript">
      var audio = new maximJs.maxiAudio();
      audio.init();

      var clk = new maximJs.maxiClock();
      clk.setTicksPerBeat(4);
      clk.setTempo(60);

      var sample = new maximJs.maxiSample();
      audio.loadSample("../sample/hihat.wav", sample);

      audio.play = function() {
        clk.ticker();

        if(clk.tick) {
          sample.trigger();
        }

        var wave = sample.playOnce(1);
        this.output = wave;
      }
    </script>
  </body>
</html>
